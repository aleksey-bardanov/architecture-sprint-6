# Задание 4. Проектирование продажи ОСАГО

## Реализация сервиса `osago-aggregator`

- Сервису `osago-aggregator` не требуется собственная база данных. Данные по предложениям ОСАГО периодически собираются у страховых компаний и аснхронно передаются сервису `core-app`, который сохраняет их в своей БД
- Сервис представляет для `core-app` endpoint, который можно использовать для того, чтобы создать заявку на ОСАГО, взаимодействие синхронное
- Сервис `core-app` предоставляет для WebUI возможность посмотреть предложения по ОСАГО для текущего пользователя и создать заявку на оформление ОСАГО
- Для обеспечения отказоустойчивости предусмотрено совместное использование паттернов Timeout и CircuitBreaker в точке обращения к API страховых компаний. Реализованы эти паттерны будут в приложении `osago-aggregator`, чтобы отключать только те внешние API, с которыми есть проблемы. Если ответа на запрос нет в течение минуты, то это считается ошибкой (требование бизнеса), если число ошибок возрастает, то требуется временно блокировать доступ к API, чтобы снизить на него нагрузку.
- Решение масштабируемо и подойдет для предлагаемой стратегии деплоя, когда в приложение развернуто одновременно в нескольких региональных кластерах
